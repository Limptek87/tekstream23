<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>TEKSTREAM 23 â€“ LIMPTek Archive</title>
  <style>
    body {
      margin: 0;
      background: green;
      color: #0f0;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <div id="app"></div>

  <script src="https://unpkg.com/webamp"></script>
  <script>
    const ARCHIVE_ID = "tekstream232311";

    async function loadArchiveTracks() {
      const res = await fetch(`https://archive.org/metadata/${ARCHIVE_ID}`);
      const data = await res.json();

      return data.files
        .filter(f =>
          f.name.endsWith(".mp3") || f.name.endsWith(".wav")
        )
        .map(f => ({
          metaData: {
            artist: "LIMPTek",
            title: f.name.replace(".mp3","").replace(".wav",""),
          },
          url: `https://archive.org/download/${ARCHIVE_ID}/${encodeURIComponent(f.name)}`
        }));
    }

    (async () => {
      const tracks = await loadArchiveTracks();

      new Webamp({
        initialTracks: tracks,
        initialSkin: {
          url: "https://archive.org/download/winampskin_classic/Winamp%20Classic.wsz"
        }
      }).renderWhenReady(document.getElementById("app"));
    })();
  </script>
</body>
</html>
